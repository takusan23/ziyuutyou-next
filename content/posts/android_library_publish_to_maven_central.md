---
title: è‡ªä½œAndroidãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ Maven Central ã¸å…¬é–‹ã™ã‚‹
created_at: 2022-04-19
tags:
- MavenCentral
- Android
- Gradle
---
ã©ã†ã‚‚ã“ã‚“ã°ã‚“ã‚ã€‚

ä¿å¥å®¤ã®ã‚»ãƒ³ã‚»ãƒ¼ã¨ã‚´ã‚¹ãƒ­ãƒªã®æ ¡åŒ» æ”»ç•¥ã—ã¾ã—ãŸã€‚å‰ä½œã¯ã‚„ã£ã¦ãªã„ã§ã™ã€‚  
ãƒ­ãƒ¼ãƒ—ãƒ©ã‚¤ã‚¹ã ã‘ã©ã‚·ãƒŠãƒªã‚ªãŒã¡ã‚ƒã‚“ã¨ã—ã¦ã„ã¦ã„ã„ã¨æ€ã„ã¾ã—ãŸã€‚ãŠã™ã™ã‚

![Imgur](https://i.imgur.com/zgom8f4.png)

![Imgur](https://i.imgur.com/mS4S4ne.png)

ã¿ã‚“ãªã‹ã‚ã„ã„

![Imgur](https://i.imgur.com/roZOqlK.png)

éˆ´ãƒ«ãƒ¼ãƒˆã‚‚è¿‘ã€…ç™ºå£²ã¿ãŸã„ãªã®ã§æ¥½ã—ã¿ã§ã™ã­ã€‚ããƒ¼

![Imgur](https://i.imgur.com/8PamPDe.png)

# æœ¬é¡Œ
ã¡ã‚‡ã£ã¨å‰ã«æ›¸ã„ãŸã‚¢ãƒ—ãƒªã®ã‚³ã‚¢éƒ¨åˆ†ã‚’ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«åˆ‡ã‚Šå‡ºã—ãŸã€‚
- https://github.com/takusan23/Coneco/tree/master/conecocore
- https://github.com/takusan23/Coneco/tree/master/conecohls

ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½œã£ãŸã®ã§ã›ã£ã‹ããªã‚‰å…¬é–‹ã—ã‚ˆã†ã¨ã„ã†ã‚ã‘ã§ã€  
`Maven Central`ã¸å…¬é–‹ã—ã€ä»–ã®äººã‹ã‚‰ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¦ã¿ã¾ã™ï¼

# ç’°å¢ƒ

- ãƒªãƒã‚¸ãƒˆãƒª
    - https://github.com/takusan23/Coneco
- build.gradle.kts ã‚’ä½¿ã„ã¾ã™
    - åˆ¥ã«ç§»è¡Œã—ã¦ã‚‚ä¾¿åˆ©ã«ã¯ãªã‚‰ãªã„ã¨æ€ã„ã¾ã™...
- Windows 10 Pro

## ç”¨èªé›†
ãªã‚“ã ã‹ã‚ˆãåˆ†ã‹ã‚‰ã‚“åå‰ã°ã£ã‹å‡ºã‚‹ã®ã§ã¾ã¨ã‚ã¾ã™ã€‚  
ãã‚Œãã‚Œã®ç«‹ã¡ä½ç½®ã‚’ç†è§£ã™ã‚‹ã®ã§ãŠè…¹ã„ã£ã±ã„ã«ãªã‚Šãã†ã€‚

- Sonatype Jira
    - ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆã™ã‚‹ãŸã‚ä½¿ã†
        - å¤šåˆ†ãƒªãƒã‚¸ãƒˆãƒªç®¡ç†ã—ã¦ã‚‹ä¸­ã®äººã¨ã‚„ã‚Šå–ã‚Šã™ã‚‹ã®ã«ä½¿ã†
        - Jira ãƒã‚±ãƒƒãƒˆã‚’åˆ‡ã£ã¦æ‹…å½“è€…ã«ãŠé¡˜ã„ã™ã‚‹
        - ãƒã‚±ãƒƒãƒˆã‚’åˆ‡ã‚‹ã«ã¯ Jira ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚‚ä½œã‚‰ãªã„ã¨ã„ã‘ãªã„
- Sonatype OSSRH
    - Sonatype OpenSourceSoftware Repository Hosting ã®ç•¥ã‚‰ã—ã„
    - ã¾ãšã¯ã“ã“ã«ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹
- MavenCentral
    - Sonatype OSSRH ã¸ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒå•é¡Œãªã‘ã‚Œã° MavenCentral ã¸å…¬é–‹ã™ã‚‹ã€‚
    - ã‚ˆãåˆ†ã‹ã‚‰ã‚“

## æµã‚Œ
- Sonatype (Atlassian) Jira ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œã‚‹
- ãƒªãƒã‚¸ãƒˆãƒªã®ä½œæˆã‚’ãŠé¡˜ã„ã™ã‚‹Jiraãƒã‚±ãƒƒãƒˆã‚’åˆ‡ã‚‹
    - ã‚°ãƒ«ãƒ¼ãƒ—IDï¼ˆãƒ‰ãƒ¡ã‚¤ãƒ³ã€GitHub Pagesï¼‰ã®ã©ã‚Œã‹ã‚’åˆ©ç”¨ã™ã‚‹
- ç½²åã«ä½¿ã†GPGéµã‚’ä½œæˆã™ã‚‹
- Gradleã‚’æ›¸ã
- ãƒªãƒªãƒ¼ã‚¹ã™ã‚‹
- Sonatypeã®ç®¡ç†ç”»é¢ã‹ã‚‰MavenCentralã«å…¬é–‹ã™ã‚‹
- ãŠã‚ã‚Š

ãªã’ãˆã‚ˆ...

## å…¬å¼

https://central.sonatype.org/publish/publish-guide/

## ä½¿ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
ã‚ã‚Šåº§æ¤…å­

https://github.com/gradle-nexus/publish-plugin

https://github.com/Kotlin/dokka

(Dokkaã§javadoc.jar ç”Ÿæˆ : https://kotlinlang.org/docs/dokka-gradle.html#build-javadoc-jar)

## å‚è€ƒã«ã—ã¾ã—ãŸã€ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼
https://getstream.io/blog/publishing-libraries-to-mavencentral-2021/

http://yuki312.blogspot.com/2021/08/maven-central-repository.html


# Sonatype Atlassian Jira ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ä½œæˆ
ã“ã“ã‹ã‚‰ä½œã‚Œã¾ã™ã€‚  
https://issues.sonatype.org/secure/Signup!default.jspa

Full name ã¯é©å½“ã§ã„ã„ã‚“ã˜ã‚ƒã­ã€ãƒã‚«æ­£ç›´ã«ã‹ãå¿…è¦ã¯ãªã•ãã†é›°å›²æ°—ï¼ˆçŸ¥ã‚‰ã‚“ã‘ã©ã‚ã¨ã‹ã‚‰å¤‰æ›´ã§ãã‚‹ï¼‰ã€‚  
**Usernameã¯å¤‰æ›´ã§ããªã„ä¸Šã«ç®¡ç†ç”»é¢ã¸ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹éš›ã‚‚ä½¿ã‚ã‚Œã‚‹ã®ã§ã‚ˆãè€ƒãˆãŸã»ã†ãŒè‰¯ã•ãã†**

https://central.sonatype.org/publish/manage-user/#change-my-full-name-e-mail-address-or-password

ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®æ¡ä»¶é›£ã—ãã¦è‰ã€‚æœ€å¾Œã®è¨˜å·ã¨ã‹ã©ã†ã‚„ã£ã¦å‡ºã™ã‚“ã ã‚ˆ

```
You must specify a password that satisfies the password policy.
The password must contain at least 1 special character, such as &, %, â„¢, or Ã‰.
```

å‡ºæ¥ãŸã‚‰ã“ã†ãªã‚‹ã€‚ä½œã£ãŸã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã€é©å½“ã«åˆæœŸè¨­å®šã‚’é€²ã‚ã¾ã™ã€‚

![Imgur](https://i.imgur.com/4NYMvGD.png)

Atlassian Jira è‡ªä½“ã«ã¯æ—¥æœ¬èªãŒã‚ã‚Šã¾ã™ã€‚ãªãŠæ—¥æœ¬èªã§å¯¾å¿œã—ã¦ãã‚Œã‚‹ã¨ã¯è¨€ã£ã¦ã„ãªã„ã€‚

![Imgur](https://i.imgur.com/wHObSuK.png)

# ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œã£ã¦ã‚‚ã‚‰ã†Jiraãƒã‚±ãƒƒãƒˆã‚’åˆ‡ã‚‹
**ä½œæˆ**ã‹ã‚‰ãƒã‚±ãƒƒãƒˆã‚’åˆ‡ã‚Œã¾ã™ã€‚

![Imgur](https://i.imgur.com/UK5Aezu.png)

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€èª²é¡Œã‚¿ã‚¤ãƒ— ã¯ãã®ã¾ã¾ã§ãŠã£ã‘ãƒ¼

![Imgur](https://i.imgur.com/K8YduK0.png)

ãã—ã¦ä»¥ä¸‹ã®é …ç›®ã‚’åŸ‹ã‚ã¦ã„ãã¾ã™ã€‚  
Group Idã£ã¦ã®ã¯`io.github.takusan23`ã¿ãŸã„ãªã‚„ã¤ã§ã™ã€‚    
è‡ªåˆ†ã§æŒã£ã¦ã‚‹ãƒ‰ãƒ¡ã‚¤ãƒ³ã¨ã‹ä½¿ãˆã‚‹ã¿ãŸã„ã§ã™ãŒã€ä»Šå›ã¯GitHub Pagesã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ä½¿ã„ã¾ã™ã€‚  
ã‚ˆããƒ©ã‚¤ãƒ–ãƒ©ãƒªå°å…¥æ™‚ã«ãƒ‰ãƒ¡ã‚¤ãƒ³ãŒé€†ã«ãªã£ãŸæ–‡å­—åˆ—ã‚’å…¥ã‚Œã‚‹ã¨æ€ã†ã®ã§ã™ãŒã€ãã‚Œã§ã™ã€‚

`implementation("io.github.takusan23:conecocore:1.0.0")` â† ã“ã® `io.github.takusan23`ãŒã‚°ãƒ«ãƒ¼ãƒ—ID

| ãªã¾ãˆ                    | æ›¸ãã“ã¨                                                 | ä¾‹                                                                                                          |
|---------------------------|----------------------------------------------------------|-------------------------------------------------------------------------------------------------------------|
| è¦ç´„                      | ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œã£ã¦æ¬²ã—ã„ã‚ˆï½çš„ãª                         | Create repository for io.github.takusan23                                                                   |
| èª¬æ˜                      | ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä½œã£ãŸã‹ã‚‰MavenCentralã§å…¬é–‹ã—ãŸã„ã‚“ã ï¼ï½çš„ãª | I created an Android library that connects multiple videos. I would like to publish it using Maven Central. |
| Group Id                  | ã‚°ãƒ«ãƒ¼ãƒ—IDã€GitHub Pagesã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã¨ã‹                   | io.github.takusan23                                                                                         |
| Project URL               | GitHubã®ãƒªãƒã‚¸ãƒˆãƒªã¸ã®URL                                | https://github.com/takusan23/Coneco                                                                         |
| SCM url                   | Project URLã§æ›¸ã„ãŸURLã«`.git`ã‚’ã¤ã‘ã‚Œã°è‰¯ã•ãã†         | https://github.com/takusan23/Coneco.git                                                                     |
| Already Synced to Central | åˆã‚ã¦ãªã‚‰Noã§è‰¯ã„ã¨æ€ã†                                 | No                                                                                                          |

ä»¥ä¸‹ä¾‹ã§ã™ã€‚

![Imgur](https://i.imgur.com/kanqUyx.png)

ä½œæˆã‚’æŠ¼ã™ã¨ã€ã“ã‚“ãªé¢¨ã«ãªã‚‹ã®ã§ãƒã‚±ãƒƒãƒˆã®è©³ç´°ãƒšãƒ¼ã‚¸ã¸é£›ã³ã¾ã—ã‚‡ã†ã€‚

![Imgur](https://i.imgur.com/Bnxb0zf.png)

## æ•°åç§’å¾…ã£ã¦ã„ã‚‹ã¨...
ãƒã‚±ãƒƒãƒˆã¸ã‚³ãƒ¡ãƒ³ãƒˆãŒä»˜ãã¾ã™ã€‚ï¼ˆBotãªã‚“ã§ã™ã‘ã©ã­åˆè¦‹ã•ã‚“ï¼‰  

![Imgur](https://i.imgur.com/lljwjuq.png)

ã“ã“ã§ã‚°ãƒ«ãƒ¼ãƒ—IDã®æ¤œè¨¼ã‚’è¡Œã„ã¾ã™ã€ãŒç‰¹ã«é›£ã—ã„ã“ã¨ã‚’ã™ã‚‹ã‚ã‘ã§ã‚‚ãªãã€  
è‡ªåˆ†ã®GitHubã®ãƒªãƒã‚¸ãƒˆãƒªã«ä½œã£ãŸJiraãƒã‚±ãƒƒãƒˆã®ãƒã‚±ãƒƒãƒˆç•ªå·ï¼ˆOSSRH- ã‹ã‚‰å§‹ã¾ã‚‹ã‚„ã¤ï¼‰ã®åå‰ã§ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆã—ã‚ã£ã¦å†…å®¹ã§ã™ã€‚

ã¨ã„ã†ã‚ã‘ã§ä½œæˆã—ã¦

![Imgur](https://i.imgur.com/VtlXUag.png)

ãƒã‚±ãƒƒãƒˆã®ã‚³ãƒ¡ãƒ³ãƒˆã«ä½œã£ãŸã“ã¨ã‚’çŸ¥ã‚‰ã›ã¾ã™ã€‚  

```
Created repository forÂ https://github.com/takusan23/OSSRH-79851
```

![Imgur](https://i.imgur.com/tSevFmy.png)

ãƒã‚±ãƒƒãƒˆã‚’Openã«ã—ã‚ã£ã¦è¨€ã‚ã‚Œã¦ã‚‹ã‚“ã ã‘ã©å‹æ‰‹ã«Openã«ãªã£ã¦ãŸ

![Imgur](https://i.imgur.com/396HM8B.png)

## æ•°åˆ†å¾Œã«...

MavenCentralã§`io.github.takusan23`ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã£ãŸãï¼ã£ã¦ãƒ¡ãƒ¼ãƒ«ãŒæ¥ã¾ã—ãŸã€‚æ­¯ç£¨ãçµ‚ã‚ã£ãŸã‚‰ä»•äº‹çµ‚ã‚ã£ã¦ãŸã€‚æœ‰èƒ½ã‹ã‚ˆ

![Imgur](https://i.imgur.com/k01PjD8.png)

ã“ã‚Œã§ã€https://s01.oss.sonatype.org/ ã«ãƒ­ã‚°ã‚¤ãƒ³ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚  
ãƒ­ã‚°ã‚¤ãƒ³ã¯ã“ã“ã§ã™ã€‚  
Usernameã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ã•ã£ãã®Jiraã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¨åŒã˜ã‚‚ã®ã‚’ä½¿ãˆã°OKã§ã™ã€‚

![Imgur](https://i.imgur.com/zyI6CQw.png)

![Imgur](https://i.imgur.com/dqOgO67.png)

# ç½²åã§ä½¿ã†éµã‚’ä½œæˆã™ã‚‹
å…¬å¼ï¼šhttps://central.sonatype.org/publish/requirements/gpg/

ç§ã¯ Windowsãƒ¦ãƒ¼ã‚¶ãƒ¼ ãªã®ã§ Gpg4win ã‚’å…¥ã‚Œã¾ã™ã€‚

https://gpg4win.org/index.html

![Imgur](https://i.imgur.com/p2ekpeb.png)

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ãƒ¼ã®æ¡ˆå†…ã«å¾“ã£ã¦å…¥ã‚Œã¾ã—ã‚‡ã†ã€‚

![Imgur](https://i.imgur.com/xdPIIfD.png)

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã‚‰é–‹ãã¾ã™ã€‚GUIãŒä»˜å±ã—ã¦ã¾ã™ã®ã§ä½¿ã£ã¦ã„ãã¾ã—ã‚‡ã†ã€‚

![Imgur](https://i.imgur.com/isJTqGm.png)

## ç½²åã®ä¸­èº«
è©³ç´°è¨­å®šã¯ã€`è©³ç´°è¨­å®š`ã‚’æŠ¼ã™ã¨é–‹ãã¾ã™ã€‚

| ãªã¾ãˆ                                      | ã‚ãŸã„                                          |
|---------------------------------------------|-------------------------------------------------|
| åå‰                                        | å„è‡ªã®åå‰                                      |
| ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹                              | å„è‡ªã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹                            |
| éµã®è¦ç´                                     | RSA +RSA (4096 ãƒ“ãƒƒãƒˆ)                          |
| è¨¼æ˜æ›¸ã®åˆ©ç”¨ç›®çš„                            | ç½²å ï¼ˆæœ‰åŠ¹æœŸé™æ±ºã‚ã‚‹ã“ã¨ã‚‚å¯èƒ½ã€ä»Šå›ã¯ã—ãªã„ï¼‰ |
| Protect the generated key with a passphrase | ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã‚‹                                |

![Imgur](https://i.imgur.com/YNdDU66.png)

ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¾ã™ã€‚

![Imgur](https://i.imgur.com/R2kALYR.png)

ã§ãã¾ã—ãŸã€‚

![Imgur](https://i.imgur.com/N5svyQA.png)

### ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¨å¤±åŠ¹è¨¼æ˜æ›¸ã®ä½œæˆ
ä¸€å¿œä½œæˆã—ã¾ã™ã€‚

ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¯ã‚­ãƒ¼ã‚’å³ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’å‡ºã—ã€`Backup Secret Keys...`ã§å‡ºæ¥ã¾ã™ã€‚

![Imgur](https://i.imgur.com/NprkeQg.png)

å¤±åŠ¹è¨¼æ˜æ›¸ã‚’ä½œã£ã¦ãŠãã¨ã€ä¸‡ãŒä¸€ç§˜å¯†éµãŒæ¼ã‚ŒãŸå ´åˆã«ç„¡åŠ¹ã«ã§ãã¾ã™ã€‚  
ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‹ãã€`è©³ç´°`ã‚’æŠ¼ã—ã¾ã™ã€‚

![Imgur](https://i.imgur.com/12Qnqs7.png)

ãã—ãŸã‚‰`Generate revocation certificate`ã‚’æŠ¼ã™ã“ã¨ã§ç™ºè¡Œã§ãã¾ã™ã€‚

![Imgur](https://i.imgur.com/HVpCBv3.png)

## å…¬é–‹éµã‚’éµã‚µãƒ¼ãƒãƒ¼ã¸ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹
GUIã§ã‚„ã‚‹æ–¹æ³•ãŒã‚ã‹ã‚‰ã‚“ã‹ã£ãŸã®ã§ã€ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§ã‚„ã‚Šã¾ã™ã€‚  
ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã€PowerShellç­‰ã‚’èµ·å‹•ã—ã¦ã€ã¾ãšéµä¸€è¦§ã‚’å‡ºã—ã¾ã™

`gpg --list-keys`

ãã—ãŸã‚‰é•·ã„16é€²æ•°ãŒã‚ã‚‹ã¨æ€ã†ã®ã§ã€ã“ã®16é€²æ•°ã®æœ€å¾Œã‹ã‚‰8æ–‡å­—åˆ†ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ãŠãã¾ã™ã€‚

æ¬¡ã«ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å©ã„ã¦ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚

```shell
gpg --keyserver keyserver.ubuntu.com --send-keys <ã‚³ãƒ”ãƒ¼ã—ãŸ16é€²æ•°>
```

![Imgur](https://i.imgur.com/PHk9DF8.png)

## ç½²åéµã‚’Base64ã«ã™ã‚‹
æœ€å¾Œã«ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ç½²åã§ä½¿ã†ã®ã§ã€ç§˜å¯†éµã‚’Base64ã§æ›¸ãå‡ºã—ã¦ãŠãã¾ã™ã€‚  
**ç§˜å¯†éµãªã®ã§æ‰±ã„ã«ã¯ååˆ†æ°—ã‚’ã¤ã‘ã¦ã­ï¼ï¼ï¼ï¼**

`macOS`ã¨ã‹ã ã¨ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼ã¿ãŸã„ãªã‚“ã§ã™ãŒã€Windowsã®å ´åˆã¯ã¡ã‚‡ã£ã¨ã‚ã‚“ã©ã„ã§ã™ã­...  
é©å½“ãªãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œã‚Šãã®ä¸­ã§ã€PowerShellãªã©ã‚’èµ·å‹•ã—ã¦...

```shell
gpg --export-secret-keys ã‚³ãƒ”ãƒ¼ã—ãŸ16é€²æ•° > export_secret
certutil -f -encode export_secret export_secret_base64
```

`export_secret_base64`ãƒ•ã‚¡ã‚¤ãƒ«ãŒã§ãã¦ã„ã‚Œã°æˆåŠŸã§ã™ã€‚Base64ãªãƒ•ã‚¡ã‚¤ãƒ«ã¯æ–‡å­—ãªã®ã§ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã§é–‹ã‘ã¾ã™ã€‚  
æœ€åˆã®`-----BEGIN CERTIFICATE-----`ã¨æœ€å¾Œã®`-----END CERTIFICATE-----`ã‚’æ¶ˆã—ã¦ã€æ”¹è¡Œã‚‚æ¶ˆã—ã¾ã™

# ã„ã‚ˆã„ã‚ˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å…¬é–‹ã™ã‚‹ãŸã‚ã®Gradleã‚¿ã‚¹ã‚¯ã‚’æ›¸ã„ã¦ã„ã...

**2023/02/19 ã‚ã£ã¡ã‚ƒé–“é•ãˆã¦ã¾ã—ãŸã€‚ã™ã„ã¾ã›ï½ã€‚ã‚½ãƒ¼ã‚¹ã¨javadocãŒå…¥ã‚‹ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã—ãŸã€‚**

**2024/03/29 Android Gradle Plugin ã®æ›´æ–°ã§ã¾ãŸå‹•ã‹ãªããªã£ã¦ã¾ã—ãŸã€‚ä¸è¦ãªç®‡æ‰€ãŒã‚ã‚‹ã®ã§è¿½è¨˜èª­ã‚“ã§ãã ã•ã„ã€‚**

**2025/09/30 OSSRH ã®ã¾ã¾ã ã£ãŸã®ã§ CentralPortal ç”¨ã®èª¬æ˜ã‚’è¿½è¨˜ã—ã¾ã—ãŸã€‚**  

## CentralPortal ã«å¯¾å¿œã•ã›ã‚‹

https://takusan.negitoro.dev/posts/maven_central_ossrh_to_central_portal/

â†‘ã‚‚è¦‹ã¦ãã ã•ã„ï¼ˆãªã’ã‚„ã‚Šï¼‰ã€‚  
ã‚ã‚“ã©ã„å ´åˆã¯ä»¤å’Œæœ€æ–°ç‰ˆã®`build.gradle.kts`ã¨`ãƒ©ã‚¤ãƒ–ãƒ©ãƒª/build.gradle.kts`ã®ã‚³ãƒ¼ãƒ‰ã¸ã®ãƒªãƒ³ã‚¯ã‚’å¼µã£ã¦ãŠãã¾ã™ã€‚

- AkariDroid
    - [build.gradle.kts](https://github.com/takusan23/AkariDroid/blob/master/build.gradle.kts)
    - [ãƒ©ã‚¤ãƒ–ãƒ©ãƒª/build.gradle.kts](https://github.com/takusan23/AkariDroid/blob/master/akari-core/build.gradle.kts)
- andAicaroid
    - [build.gradle.kts](https://github.com/takusan23/andAicaroid/blob/master/build.gradle.kts)            
    - [ãƒ©ã‚¤ãƒ–ãƒ©ãƒª/build.gradle.kts](https://github.com/takusan23/AkariDroid/blob/master/akari-core/build.gradle.kts)

`local.properties`ã®ã‚­ãƒ¼åã‚‚å¤‰ãˆã¡ã‚ƒã£ã¦ã¾ã™ã®ã§ã™ã„ã¾ã›ã‚“ã€

## ãƒ«ãƒ¼ãƒˆ (.idea ãŒã‚ã‚‹å ´æ‰€) ã® build.gradle.kts

ã¾ãšãƒ«ãƒ¼ãƒˆã«ã‚ã‚‹ build.gradle.kts ã¸æ›¸ãè¶³ã—ã¾ã™ã€‚  
`kts`ã§æ›¸ã„ãŸå ´åˆã€åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æ›¸ã„ã¦`apply from`ã™ã‚‹æ–¹æ³•ãŒä½¿ãˆãªã„ã¿ãŸã„ãªã®ã§ã€ç›´æ¥æ›¸ãã—ã‹ãªã„ã§ã™ã€‚  
(å‚è€ƒã«ã—ãŸè¨˜äº‹ã§ã¯åˆ¥ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«åˆ†ã‘ã¦ãŸã€~~ã‚ã‚Œï¼Ÿktsã«ç§»è¡Œã™ã‚‹ãƒ¡ãƒªãƒƒãƒˆãƒã‚¸ã§ãªããªã„...~~)

https://github.com/gradle/kotlin-dsl-samples/issues/1287

```kotlin
buildscript {
    val kotlinVersion: String by extra("1.7.10")
    val composeVersion: String by extra("1.3.1")
}
// Top-level build file where you can add configuration options common to all sub-projects/modules.
plugins {
    id("com.android.application").version("7.4.0").apply(false)
    id("com.android.library").version("7.4.0").apply(false)
    id("org.jetbrains.kotlin.android").version("1.7.10").apply(false)
    // ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆã¨ Maven Central ã¸å…¬é–‹ã‚’ã—ã¦ãã‚Œã‚‹ã‚„ã¤
    id("org.jetbrains.dokka").version("1.7.10")
    id("io.github.gradle-nexus.publish-plugin").version("1.1.0")
}

tasks.register("clean") {
    doFirst {
        delete(rootProject.buildDir)
    }
}

// ãƒ©ã‚¤ãƒ–ãƒ©ãƒªç½²åæƒ…å ±ãŒãªãã¦ã‚‚ãƒ“ãƒ«ãƒ‰ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹
extra["signing.keyId"] = ""
extra["signing.password"] = ""
extra["signing.key"] = ""
extra["ossrhUsername"] = ""
extra["ossrhPassword"] = ""
extra["sonatypeStagingProfileId"] = ""

// ç½²åæƒ…å ±ã‚’èª­ã¿å‡ºã™ã€‚é–‹ç™ºç’°å¢ƒã§ã¯ local.properties ã«ç½²åæƒ…å ±ã‚’ç½®ã„ã¦ã„ã‚‹ã€‚
val secretPropsFile = project.rootProject.file("local.properties")
if (secretPropsFile.exists()) {
    // èª­ã¿å‡ºã—ã¦ã€extra ã¸æ ¼ç´ã™ã‚‹
    val properties = java.util.Properties().apply {
        load(secretPropsFile.inputStream())
    }
    properties.forEach { name, value -> extra[name as String] = value }
} else {
    // ã‚·ã‚¹ãƒ†ãƒ ç’°å¢ƒå¤‰æ•°ã‹ã‚‰èª­ã¿å‡ºã™ã€‚CI/CD ç”¨
    extra["ossrhUsername"] = System.getenv("OSSRH_USERNAME")
    extra["ossrhPassword"] = System.getenv("OSSRH_PASSWORD")
    extra["sonatypeStagingProfileId"] = System.getenv("SONATYPE_STAGING_PROFILE_ID")
    extra["signing.keyId"] = System.getenv("SIGNING_KEY_ID")
    extra["signing.password"] = System.getenv("SIGNING_PASSWORD")
    extra["signing.key"] = System.getenv("SIGNING_KEY")
}

// Sonatype OSSRH ãƒªãƒã‚¸ãƒˆãƒªæƒ…å ±
nexusPublishing.repositories.sonatype {
    stagingProfileId.set(extra["sonatypeStagingProfileId"] as String)
    username.set(extra["ossrhUsername"] as String)
    password.set(extra["ossrhPassword"] as String)
    nexusUrl.set(uri("https://s01.oss.sonatype.org/service/local/"))
    snapshotRepositoryUrl.set(uri("https://s01.oss.sonatype.org/content/repositories/snapshots/"))
}
```

## ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ–¹ã® build.gradle.kts
ã“ã£ã¡ã‚‚åŒæ§˜ç›´æ¥æ›¸ãã—ã‹ãªã„ã§ã™ã€‚  
`ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå`ã€`ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®èª¬æ˜`ã®éƒ¨åˆ†ã‚„ã€  
ä½œè€…ã¨ã‹ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¨ã‹ãŒæ›¸ã„ã¦ã‚ã‚‹ä¸‹ã®éƒ¨åˆ†ã¯å„è‡ªæ›¸ãæ›ãˆã¦ãã ã•ã„ã€‚

| ãªã¾ãˆ     | ã›ã¤ã‚ã„                                                |
|------------|---------------------------------------------------------|
| groupId    | Sonatype OSSRH ã®Jiraãƒã‚±ãƒƒãƒˆã§æ±ºã‚ãŸã®ã¨åŒã˜ã‚°ãƒ«ãƒ¼ãƒ—ID |
| artifactId | ãƒ©ã‚¤ãƒ–ãƒ©ãƒªåã¨ã‚‚è¨€ã†                                    |
| version    | ãƒãƒ¼ã‚¸ãƒ§ãƒ³                                              |

```kotlin
plugins {
    id("com.android.library")
    id("org.jetbrains.kotlin.android")
    // ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«åŒæ¢±ã™ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆå™¨
    id("org.jetbrains.dokka")
    // ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä½œæˆã«å¿…è¦
    `maven-publish`
    signing
}

// ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒãƒ¼ã‚¸ãƒ§ãƒ³
val libraryVersion = "1.0.2"
// ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå
val libraryName = "conecocore"
// ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®èª¬æ˜
val libraryDescription = "It is a library that connects multiple videos into one."

android {
    compileSdk = 33
    namespace = "io.github.takusan23.conecocore"

    defaultConfig {
        minSdk = 21
        targetSdk = 33

        testInstrumentationRunner = "androidx.test.runner.AndroidJUnitRunner"
        consumerProguardFile("consumer-rules.pro")
    }

    buildTypes {
        release {
            isMinifyEnabled = false
            proguardFiles(getDefaultProguardFile("proguard-android-optimize.txt"), "proguard-rules.pro")
        }
    }
    compileOptions {
        sourceCompatibility = JavaVersion.VERSION_1_8
        targetCompatibility = JavaVersion.VERSION_1_8
    }
    kotlinOptions {
        jvmTarget = "1.8"
    }
}

dependencies {

    implementation("org.jetbrains.kotlinx:kotlinx-coroutines-android:1.6.0")

    implementation("androidx.core:core-ktx:1.7.0")
    implementation("androidx.appcompat:appcompat:1.4.1")

    testImplementation("junit:junit:4.13.2")
    androidTestImplementation("androidx.test.ext:junit:1.1.3")
    androidTestImplementation("androidx.test.espresso:espresso-core:3.4.0")
}

val androidSourcesJar = tasks.register<Jar>("androidSourcesJar") {
    archiveClassifier.set("sources")
    from(android.sourceSets["main"].java.srcDirs)
}

tasks.dokkaJavadoc {
    outputDirectory.set(File(buildDir, "dokkaJavadoc"))
}

val javadocJar = tasks.register<Jar>("dokkaJavadocJar") {
    dependsOn(tasks.dokkaJavadoc)
    from(tasks.dokkaJavadoc.flatMap { it.outputDirectory })
    archiveClassifier.set("javadoc")
}

artifacts {
    archives(androidSourcesJar)
    archives(javadocJar)
}

signing {
    // ãƒ«ãƒ¼ãƒˆ build.gradle.kts ã® extra ã‚’è¦‹ã«è¡Œã
    useInMemoryPgpKeys(
        rootProject.extra["signing.keyId"] as String,
        rootProject.extra["signing.key"] as String,
        rootProject.extra["signing.password"] as String,
    )
    sign(publishing.publications)
}

afterEvaluate {
    publishing {
        publications {
            create<MavenPublication>("maven") {
                groupId = "io.github.takusan23"
                artifactId = libraryName
                version = libraryVersion
                if (project.plugins.hasPlugin("com.android.library")) {
                    from(components["release"])
                } else {
                    from(components["java"])
                }
                artifact(androidSourcesJar)
                artifact(javadocJar)
                pom {
                    // ãƒ©ã‚¤ãƒ–ãƒ©ãƒªæƒ…å ±
                    name.set(artifactId)
                    description.set(libraryDescription)
                    url.set("https://github.com/takusan23/Coneco/")
                    // ãƒ©ã‚¤ã‚»ãƒ³ã‚¹
                    licenses {
                        license {
                            name.set("Apache License 2.0")
                            url.set("https://github.com/takusan23/Coneco/blob/master/LICENSE")
                        }
                    }
                    // é–‹ç™ºè€…
                    developers {
                        developer {
                            id.set("takusan_23")
                            name.set("takusan_23")
                            url.set("https://takusan.negitoro.dev/")
                        }
                    }
                    // git
                    scm {
                        connection.set("scm:git:github.com/takusan23/Coneco")
                        developerConnection.set("scm:git:ssh://github.com/takusan23/Coneco")
                        url.set("https://github.com/takusan23/Coneco")
                    }
                }
            }
        }
    }
}
```

# è¿½è¨˜ Android Gradle Plugin æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³è¿½å¾“
- https://developer.android.com/build/publish-library
- https://stackoverflow.com/questions/76859081/

ãªã‚“ã‹è¦‹ãªã„ã†ã¡ã«ã€å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä½œã‚Šæ–¹ãŒè¨€åŠã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã‚‹ã€‚  
å¤‰æ›´ç‚¹ã§ã™ãŒã€

- `Android Gradle Plugin`ãŒå…ƒã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’åŒæ¢±ã™ã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€è‡ªåˆ†ã§`task`ã‚’æ›¸ã‹ãªãã¦è‰¯ã„
    - `withSourcesJar()`ã€`withJavadocJar()`ã‚’ä½¿ãˆã°ã„ã„ï¼ˆã„ã¤ã‹ã‚‰è¿½åŠ ã•ã‚ŒãŸã®ã“ã‚Œï¼Ÿï¼Ÿï¼Ÿï¼‰
- åŒæ§˜ã«ã€`Javadoc`ã‚‚`AGP`ãŒå‹æ‰‹ã«ç”Ÿæˆã—ã¦åŒæ¢±ã™ã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€è‡ªåˆ†ã§`dokka`ã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹å¿…è¦ã¯ãªããªã£ãŸ
- ãã‚Œã«ä¼´ã„ã€`build.gradle`ã«æ›¸ã„ã¦ã„ã‚‹è¨˜è¿°ã‚‚ä¿®æ­£ãŒå¿…è¦

ã¾ãšã¯ã€ãƒ«ãƒ¼ãƒˆã®`build.gradle.kts`ã‹ã‚‰`dokka`ã¯ä¸è¦ãªã®ã§æ¶ˆã—ã¡ã‚ƒã£ã¦

```diff
plugins {
     alias(libs.plugins.kotlin.android).apply(false)
     // akaricore ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå…¬é–‹ã§ä½¿ã†
     alias(libs.plugins.gradle.nexus.publish.plugin)
-    alias(libs.plugins.jetpbrains.dokka)
-}
-
-subprojects {
-    apply(plugin = "org.jetbrains.dokka")
 }
```

ãã—ã¦ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ–¹ã®`build.gradle.kts`ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ãç›´ã—ã¾ã™ã€‚  
`namespace`ã¨ã‹ã¯å„è‡ªé•ã†ã¨æ€ã†ã€‚ã‚³ãƒ¡ãƒ³ãƒˆã¯ä¸è¦ãªã®ã§æ¶ˆã—ã¦ã„ã„ã‚ˆ

```kotlin
plugins {
    id("com.android.library")
    id("org.jetbrains.kotlin.android")
    // Maven Central ã«å…¬é–‹ã™ã‚‹éš›ã«åˆ©ç”¨
    `maven-publish`
    signing
}

// ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå…¬é–‹ã¯ Android ã§ã‚‚è¨€åŠã™ã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ç›®ã‚’é€šã™ã¨ã„ã„ã‹ã‚‚
// https://developer.android.com/build/publish-library/upload-library
// ãã®ã»ã‹å½¹ã«ç«‹ã¡ãã†ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
// https://docs.gradle.org/current/dsl/org.gradle.api.publish.maven.MavenPublication.html
// https://github.com/gradle-nexus/publish-plugin

// OSSRH ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã›ãšã«æˆæœç‰©ã‚’ç¢ºèªã™ã‚‹æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚ãƒ­ãƒ¼ã‚«ãƒ«ã«åãå‡ºã›ã°ã„ã„
// gradle :akari-core:publishToMavenLocal

android {
    namespace = "io.github.takusan23.akaricore"
    compileSdk = 34

    defaultConfig {
        minSdk = 21
        targetSdk = 34

        testInstrumentationRunner = "androidx.test.runner.AndroidJUnitRunner"
        consumerProguardFiles("consumer-rules.pro")
    }

    buildTypes {
        release {
            isMinifyEnabled = false
            proguardFiles(getDefaultProguardFile("proguard-android-optimize.txt"), "proguard-rules.pro")
        }
    }
    compileOptions {
        sourceCompatibility = JavaVersion.VERSION_1_8
        targetCompatibility = JavaVersion.VERSION_1_8
    }
    kotlinOptions {
        jvmTarget = "1.8"
    }

    // ã©ã†ã‚„ã‚‰ Android Gradle Plugin å´ã§ sources.jar ã¨ javadoc.jar ã‚’ä½œã‚‹æ©Ÿèƒ½ãŒå®Ÿè£…ã•ã‚ŒãŸãã†
    publishing {
        singleVariant("release") {
            withSourcesJar()
            withJavadocJar()
        }
    }
}

// ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
dependencies {

    implementation(libs.androidx.core)
    implementation(libs.androidx.appcompat)
    implementation(libs.kotlinx.coroutine)
    testImplementation(libs.junit)
    androidTestImplementation(libs.kotlinx.coroutine.test)
    androidTestImplementation(libs.androidx.test.junit)
    androidTestImplementation(libs.androidx.test.espresso.core)
}

// ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
publishing {
    publications {
        create<MavenPublication>("release") {
            groupId = "io.github.takusan23"
            artifactId = "akaricore"
            version = "2.0.0-alpha01"

            // afterEvaluate ã—ãªã„ã¨ã‚¨ãƒ©ãƒ¼ãªã‚‹
            afterEvaluate {
                from(components["release"])
            }

            pom {
                // ãƒ©ã‚¤ãƒ–ãƒ©ãƒªæƒ…å ±
                name.set("akaricore")
                description.set("AkariDroid is Video editor app in Android. AkariDroid core library")
                url.set("https://github.com/takusan23/AkariDroid/")
                // ãƒ©ã‚¤ã‚»ãƒ³ã‚¹
                licenses {
                    license {
                        name.set("Apache License 2.0")
                        url.set("https://github.com/takusan23/AkariDroid/blob/master/LICENSE")
                    }
                }
                // é–‹ç™ºè€…
                developers {
                    developer {
                        id.set("takusan_23")
                        name.set("takusan_23")
                        url.set("https://takusan.negitoro.dev/")
                    }
                }
                // git
                scm {
                    connection.set("scm:git:github.com/takusan23/AkariDroid")
                    developerConnection.set("scm:git:ssh://github.com/takusan23/AkariDroid")
                    url.set("https://github.com/takusan23/AkariDroid")
                }
            }
        }
    }
}

// ç½²å
signing {
    // ãƒ«ãƒ¼ãƒˆ build.gradle.kts ã® extra ã‚’è¦‹ã«è¡Œã
    useInMemoryPgpKeys(
        rootProject.extra["signing.keyId"] as String,
        rootProject.extra["signing.key"] as String,
        rootProject.extra["signing.password"] as String,
    )
    sign(publishing.publications["release"])
}
```

å¤‰æ›´ç‚¹ã§ã™ãŒã€
- `android { }`ã®ä¸­ã«`publishing { }`ã‚’è¿½åŠ ã—ãŸ
- ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆã®`task`ã‚’æ¶ˆã—ãŸã€`artifacts { }`ã‚‚æ¶ˆã—ãŸã€
- `afterEvaluate { }`ã«`from`ã ã‘ç§»å‹•ã€‚
    - å¤šåˆ†ã“ã“ã¯é–¢ä¿‚ãªã„ã€‚ãŸã  Android ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å¾“ã£ã¦ã¿ãŸ
    - https://developer.android.com/build/publish-library/upload-library
- å¤šåˆ†`from`ã§ã‚½ãƒ¼ã‚¹ã¨`javadoc`ãŒå…¥ã‚‹ã®ã§ã€`artifact()`ã¯æ›¸ã‹ãªãã¦ã„ã„
- `signing { }`ã‚’ä¸€ç•ªæœ€å¾Œã«

å…¨éƒ¨ã®å·®åˆ†ã¯ã“ã¡ã‚‰ã‹ã‚‰  
https://github.com/takusan23/AkariDroid/commit/54e1dd4329569bda09bacdd090b34e78a65ab892

# local.properties ã«èªè¨¼æƒ…å ±ã‚’æ›¸ãè¾¼ã‚€
ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯gitã®ç®¡ç†ä¸‹ã«ã—ã¦ã¯ã„ã‘ã¾ã›ã‚“ã€‚çµ¶å¯¾äººã«ã¯è¦‹ã›ã¡ã‚ƒã ã‚ã§ã™ã‚ˆã€‚  
ãªã‚“ã‹æ›¸ã„ã¦ã‚ã‚‹ã‹ã‚‚ã ã‘ã©ãã®ä¸‹ã«ã‹ã‘ã°ã„ã„ã§ã™ã€‚

```properties
# Gitç®¡ç†ä¸‹ã«å…¥ã‚Œã¦ã¯ãœã£ã£ã£ãŸã„ãƒ€ãƒ¡ã§ã™
# çµ¶å¯¾ç§˜å¯†ã§ã™
# éµIDã®æœ€å¾Œ8æ¡
signing.keyId=xxxxxx
# ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰
signing.password=password
# ç§˜å¯†éµã®Base64
signing.key=xxxxxxxxx
# Sonatype OSSRH ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼å
ossrhUsername=takusan_23
# Sonatype OSSRH ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰
ossrhPassword=password
# Sonatype ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«Id
sonatypeStagingProfileId=8320....
```

## è¿½è¨˜ ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒãƒ¼ãƒ ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã§ãƒ­ã‚°ã‚¤ãƒ³ã§ããªããªã£ãŸ
ã“ã¡ã‚‰ã‚’å‚è€ƒã«ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒˆãƒ¼ã‚¯ãƒ³ãªã‚‹ã‚‚ã®ä½œã£ã¦ãã ã•ã„ã€‚

https://takusan.negitoro.dev/posts/maven_central_ossrh_upload_401_error/

## ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«Id ã©ã“ã‚„ã­ã‚“

Sonatype OSSRH ã® nexus repository manager ã¸ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™ã€‚  
https://s01.oss.sonatype.org

ãã—ãŸã‚‰ã€å·¦å´ã«ã‚ã‚‹ä¸­ã‹ã‚‰ã€`Staging Profiles`ã‚’æŠ¼ã—ã¦ã€è‡ªåˆ†ã®åå‰ã®éƒ¨åˆ†ã‚’æŠ¼ã—ã¾ã™ã€‚  
æŠ¼ã—ãŸã‚‰ã€ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚¢ãƒ‰ãƒ¬ã‚¹æ¬„ã‚’è¦‹ã¾ã™ã€‚`stagingProfiles;`ã®ã‚ã¨ã®16é€²æ•°ãŒ`ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«Id`ã«ãªã‚Šã¾ã™ã€‚

![Imgur](https://i.imgur.com/z9PU7tD.png)

# å…¬é–‹ã™ã‚‹ãï¼ï¼ï¼ï¼
ã¨ã„ã£ã¦ã‚‚ç›´æ¥`MavenCentral`ã«å…¬é–‹ã•ã‚Œã‚‹ã‚ã‘ã§ã¯ãªãã€ä¸€æ—¦`Sonatype OSSRH`ã®`nexus repository manager`ã¸ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã™ã€‚  
ãã®å¾Œå•é¡ŒãŒãªã‘ã‚Œã°å…¬é–‹ã¨ã„ã†æµã‚Œã«ãªã‚Šã¾ã™ã€‚

Android Studioã®å³å´ã«ã‚ã‚‹`Gradle`ã‚’æŠ¼ã—ã¦ãã†ã•ã‚“ã®ãƒãƒ¼ã‚¯ğŸ˜ã‚’æŠ¼ã—ã¦ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å©ãã¾ã™ã€‚  
å‚è€ƒã«ã—ãŸè¨˜äº‹ã¨ã‚³ãƒãƒ³ãƒ‰ãŒå¤‰ã‚ã£ã¦ã¾ã™ã­ã€‚
https://github.com/gradle-nexus/publish-plugin

```
gradle :ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå(ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å):publishToSonatype
```

![Imgur](https://i.imgur.com/d5Stw0C.png)

æ•°åç§’å¾Œã«çµ‚äº†ã—ã¾ã—ãŸã€‚  
ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ä½œã£ãŸã‚„ã¤ã™ã’ãˆï¼

![Imgur](https://i.imgur.com/OCI1AHS.png)

# Sonatype OSSRH nexus repository manager ã® ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ãƒªãƒã‚¸ãƒˆãƒªã‚’è¦‹ã«è¡Œã

ã¾ãŸã•ã£ãã®ãƒªãƒã‚¸ãƒˆãƒªã®URL https://s01.oss.sonatype.org/ ã‚’é–‹ã„ã¦ã€`Staging Repositories`ã‚’æŠ¼ã—ã¾ã™ã€‚
æŠ¼ã—ãŸã‚‰ã€`Refresh`ã‚’æŠ¼ã—ã¦æœ€æ–°ã®çŠ¶æ…‹ã«ã—ã¾ã—ã‚‡ã†ã€‚

ã©ã†ã§ã™ã‹ï¼Ÿã‚ã‚Šã¾ã—ãŸã‹ï¼ï¼Ÿ

![Imgur](https://i.imgur.com/QQk5ikQ.png)

å•é¡ŒãŒãªã‘ã‚Œã°**Close**ã‚’ã€ã‚„ã‚Šç›´ã—ãŸã„å ´åˆã¯**Drop**ã§æ¶ˆã›ã¾ã™ã€‚  

## Close ã‚’æŠ¼ã™
`Close`ã‚’æŠ¼ã™ã¨ã€MavenCentralã¸å…¬é–‹ã™ã‚‹ï¼Ÿæº–å‚™ãŒå§‹ã¾ã‚Šã¾ã™ã€‚  
è‡ªå‹•ã§å…¬é–‹ã•ã‚Œã‚‹ã‚ã‘ã§ã¯ãªã„ã®ã§ã€ã¾ã å®‰å¿ƒã§ãã¾ã™ã­ã€‚

![Imgur](https://i.imgur.com/omkAFZU.png)

ã—ã°ã‚‰ãå¾…ã£ã¦ã„ã‚‹ã¨**Release**ãŒæŠ¼ã›ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã—ãŸã€‚  
ã„ãããŠãŠãŠãŠãŠã€æ–°æ›²ï¼

![Imgur](https://i.imgur.com/EdiIqLW.png)

`Confirm`ã‚’æŠ¼ã—ã¦ãƒªãƒªãƒ¼ã‚¹ã§ã™ï¼

![Imgur](https://i.imgur.com/Ys8HBSc.png)

æ•°æ™‚é–“å¾Œã« https://repo1.maven.org/maven2/ ã‹ã‚‰è¦‹ã‚Œã‚‹ã‚ˆã†ã«ãªã‚‹ã¿ãŸã„ãªã®ã§æ¥½ã—ã¿ã§ã™ã­ã€‚

# å…¬é–‹ã•ã‚ŒãŸã‹è¦‹ã‚‹
https://repo1.maven.org/maven2/ ã‚’é–‹ã„ã¦è¾¿ã£ã¦ã„ã‘ã°ã„ã„ã§ã™ã€‚ 
ã‚ã£ãŸï¼ï¼ï¼

![Imgur](https://i.imgur.com/b38RD5W.png)

## search.maven.org ã§ã‚‚ç¢ºèªã™ã‚‹
ã•ã‚‰ã«å¾…ã£ã¦ã‚‹ã¨ã€ https://search.maven.org ã§æ¤œç´¢å‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã£ã¦ã¾ã™ã€‚

![Imgur](https://i.imgur.com/v02mUI0.png)


ã†ãŠãŠãŠãŠã€ãªã‚“ã‹ã™ã”ã„

![Imgur](https://i.imgur.com/0IIme8l.png)

ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®è©³ç´°ç”»é¢ã¯ã“ã‚“ãªæ„Ÿã˜ã€å°å…¥æ–¹æ³•ã¨ã‹æ›¸ã„ã¦ã‚ã‚‹ã€‚

![Imgur](https://i.imgur.com/KTPtKXR.png)

# ä½¿ã†å´ã«ãªã‚‹

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ¬ãƒ™ãƒ«(appãƒ•ã‚©ãƒ«ãƒ€å†…)ã®`build.gradle`ã«æ›¸ãè¶³ã™ã¨è¿½åŠ ã§ãã¾ã™ã€‚ã‚„ã£ãŸãœ

```
implementation '<ã‚°ãƒ«ãƒ¼ãƒ—Id>:<ãƒ©ã‚¤ãƒ–ãƒ©ãƒªåï¼ˆã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆIdï¼‰>:<ãƒãƒ¼ã‚¸ãƒ§ãƒ³>'
```

ä»Šå›ä½œã£ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªã ã¨ã“ã†ã§ã™ã­ã€‚

```java
// build.gradle
implementation 'io.github.takusan23:conecocore:1.0.0'

// build.gradle.kts ã®å ´åˆ
implementation("io.github.takusan23:conecocore:1.0.0")
```

ã“ã‚Œã§ä»–ã®å¤§æ‰‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚ˆã†ã«å°å…¥ã§ãã¾ã™ã€‚ãã£ãå¤§å¤‰ã ãªã“ã‚Œ...

![Imgur](https://i.imgur.com/qek6dbP.png)

~~(ãªã‚“ã‹åˆ¥ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç”Ÿæˆã—ãªã„ã¨ãƒ€ãƒ¡ã¿ãŸã„ã§ã™ã­...)~~

ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å…¥ã‚ŒãŸéš›ã«ä¸€ç·’ã«`XXX-sources.jar`ãŒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹ã®ã§ã€IDEä¸Šã§ã‚‚ãã®ã¾ã¾è¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚  

![Imgur](https://i.imgur.com/AwCm0Oh.png)

![Imgur](https://i.imgur.com/RuVmcSf.png)

![Imgur](https://i.imgur.com/iAM8juN.png)

# ä»–ã«ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å…¬é–‹ã—ãŸã„å ´åˆ
ã™ã§ã«ãƒªãƒã‚¸ãƒˆãƒªãŒã‚ã‚‹(Sonatype OSSRH nexus repository manager ãŒä½¿ãˆã‚‹)ã®ã§ã€`build.gradle.kts`ã®ã¨ã“ã‚ã‹ã‚‰ã‚„ã‚Œã°ã„ã„ã¨æ€ã„ã¾ã™ã€‚

# ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
ã©ã†ã

~~https://github.com/takusan23/Coneco~~

https://github.com/takusan23/AkariDroid

# ãŠã‚ã‚Šã«

4æœˆã‚‚çµ‚ã‚ã‚Šã¾ã™ã­...